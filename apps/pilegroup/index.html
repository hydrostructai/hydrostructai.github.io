<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bệ cọc đài cao (Pile Group 3D)</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    
    <style>
        body { background-color: #f0f2f5; }
        .card { box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .nav-tabs .nav-link { color: #495057; }
        .nav-tabs .nav-link.active {
            background-color: #0d6efd;
            color: white;
            border-bottom-color: #0d6efd;
        }
        /* --- THÊM MỚI: Nền xanh nhẹ cho sidebar --- */
        .sidebar-card {
            background-color: #e6f7ff; /* Nền xanh nhạt */
        }
        /* Tùy chỉnh input trong bảng */
        #pile-table-body input, #soil-layer-body input {
            width: 100%;
            border: 1px solid #ddd;
            padding: 4px;
            border-radius: 4px;
        }
        #pile-table-body input:focus, #soil-layer-body input:focus {
            outline: none;
            border-color: #0d6efd;
            box-shadow: 0 0 0 2px rgba(13,110,253,.25);
        }
        /* Container kết quả (ẩn ban đầu) */
        #results-container { display: none; }
        /* Kiểu chữ cho kết quả kiểm toán */
        .status-success { color: #198754; font-weight: bold; }
        .status-fail { color: #dc3545; font-weight: bold; }
        /* Ẩn spinner */
        .spinner-border { display: none; }
        /* Ẩn input file gốc */
        #csv-file-input { display: none; }
        /* Bảng cuộn */
        .table-scroll-container {
            max-height: 400px;
            overflow-y: auto;
        }
        .table-scroll-container thead th {
            position: sticky;
            top: 0;
            background-color: #f8f9fa;
        }
        /* Loading Overlay */
        #loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.3s ease;
        }
        #loading-overlay .spinner {
            width: 80px;
            height: 80px;
            border: 8px solid #f3f3f3;
            border-top: 8px solid #0d6efd;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        #loading-overlay .loading-text {
            color: white;
            font-size: 1.5rem;
            margin-top: 20px;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay">
        <div class="spinner"></div>
        <div class="loading-text">
            <i class="bi bi-hourglass-split"></i> Đang tải lõi tính toán (WASM)...
        </div>
    </div>
    

    <div class="container my-4">
        <div class="row">
            <div class="col-lg-3 mb-4">
                <div class="card p-3 sticky-top sidebar-card" style="top: 1rem;">
                    <h4>File Management</h4>
                    <hr>
                    
                    <!-- File Management Toolbar -->
                    <div class="btn-group w-100 mb-3" role="group">
                        <button type="button" class="btn btn-outline-primary" id="btn-new-file" title="Tạo mới">
                            <i class="bi bi-file-earmark-plus"></i> New
                        </button>
                        <button type="button" class="btn btn-outline-success" id="btn-open-file" title="Mở file">
                            <i class="bi bi-folder-open"></i> Open
                        </button>
                        <button type="button" class="btn btn-outline-warning" id="btn-save-file" title="Lưu file">
                            <i class="bi bi-save"></i> Save
                        </button>
                    </div>
                    <input type="file" id="hidden-file-input" accept=".csv,.inp" style="display:none;">
                    
                    <button class="btn btn-lg btn-success w-100" id="calculate-button" disabled>
                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" id="calc-spinner"></span>
                        <i class="bi bi-calculator"></i> Run Analysis
                    </button>
                    
                    <div class="alert alert-info mt-3" id="wasm-status">
                        <div class="d-flex align-items-center">
                            <div class="spinner-border text-primary me-2" role="status" id="wasm-spinner"></div>
                            <span id="wasm-status-text">Đang tải lõi tính toán (Wasm)...</span>
                        </div>
                    </div>
                    <div class="alert alert-danger mt-3" id="error-message" style="display: none;"></div>
                </div>
            </div>

            <div class="col-lg-9">
                <div class="card">
                    <div class="card-header">
                        <h3 class="mb-0">Bệ cọc đài cao 3D (Zavriev-Spiro)</h3>
                    </div>
                    <div class="card-body">
                        <ul class="nav nav-tabs" id="inputTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="tab-material" data-bs-toggle="tab" data-bs-target="#content-material" type="button">1. Vật liệu</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="tab-soil" data-bs-toggle="tab" data-bs-target="#content-soil" type="button">2. Đất nền</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="tab-loads" data-bs-toggle="tab" data-bs-target="#content-loads" type="button">3. Tải trọng</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="tab-piles" data-bs-toggle="tab" data-bs-target="#content-piles" type="button">4. Bố trí cọc</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="tab-license" data-bs-toggle="tab" data-bs-target="#content-license" type="button"><i class="bi bi-patch-check"></i> 5. Bản quyền</button>
                            </li>
                        </ul>
                        
                        <div class="tab-content p-3 border border-top-0" id="inputTabsContent">
                            
                            <div class="tab-pane fade show active" id="content-material" role="tabpanel">
                                <h5><i class="bi bi-rulers"></i> 1. Pile Properties (Đặc trưng cọc)</h5>
                                <hr>
                                <div class="alert alert-info">
                                    <i class="bi bi-info-circle"></i> Nhập đặc trưng vật liệu và hình học của cọc bê tông/thép
                                </div>
                                <div class="row g-3">
                                    <div class="col-md-3">
                                        <label class="form-label fw-bold">
                                            <i class="bi bi-gear-wide-connected"></i> E (T/m²)
                                        </label>
                                        <small class="d-block text-muted mb-1">Mô đun đàn hồi</small>
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="input-E" value="2800000" step="10000">
                                            <span class="input-group-text">T/m²</span>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label fw-bold">
                                            <i class="bi bi-square"></i> F (m²)
                                        </label>
                                        <small class="d-block text-muted mb-1">Diện tích mặt cắt</small>
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="input-F" value="0.1225" step="0.001">
                                            <span class="input-group-text">m²</span>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label fw-bold">
                                            <i class="bi bi-box"></i> Icoc (m⁴)
                                        </label>
                                        <small class="d-block text-muted mb-1">Mô men quán tính</small>
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="input-Icoc" value="0.00125" step="0.0001">
                                            <span class="input-group-text">m⁴</span>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label fw-bold">
                                            <i class="bi bi-circle"></i> D (m)
                                        </label>
                                        <small class="d-block text-muted mb-1">Đường kính/Cạnh</small>
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="input-D" value="0.35" step="0.05">
                                            <span class="input-group-text">m</span>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label fw-bold">
                                            <i class="bi bi-arrows-vertical"></i> Lcoc (m)
                                        </label>
                                        <small class="d-block text-muted mb-1">Chiều dài cọc</small>
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="input-Lcoc" value="12.0" step="0.5">
                                            <span class="input-group-text">m</span>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label fw-bold">
                                            <i class="bi bi-arrow-up"></i> L0 (m)
                                        </label>
                                        <small class="d-block text-muted mb-1">Chiều dài tự do</small>
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="input-L0" value="2.0" step="0.5">
                                            <span class="input-group-text">m</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <h5 class="mt-4"><i class="bi bi-square-fill"></i> 2. Cap Properties (Kích thước đài/bệ)</h5>
                                <hr>
                                <div class="alert alert-warning">
                                    <i class="bi bi-exclamation-triangle"></i> Kích thước móng quy ước (cho kiểm toán Zavriev-Spiro)
                                </div>
                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <label class="form-label fw-bold">
                                            <i class="bi bi-arrows-angle-expand"></i> Bx (m)
                                        </label>
                                        <small class="d-block text-muted mb-1">Kích thước theo phương X</small>
                                        <div class="input-group input-group-lg">
                                            <input type="number" class="form-control" id="input-Bx" value="7" step="0.5" min="0.1">
                                            <span class="input-group-text">m</span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label fw-bold">
                                            <i class="bi bi-arrows-angle-expand"></i> By (m)
                                        </label>
                                        <small class="d-block text-muted mb-1">Kích thước theo phương Y</small>
                                        <div class="input-group input-group-lg">
                                            <input type="number" class="form-control" id="input-By" value="9" step="0.5" min="0.1">
                                            <span class="input-group-text">m</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="tab-pane fade" id="content-soil" role="tabpanel">
                                <h5>Điều kiện nền</h5>
                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <label class="form-label">m (T/m4)</label>
                                        <input type="number" class="form-control" id="input-m" value="600">
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">m_chan (T/m4)</label>
                                        <input type="number" class="form-control" id="input-mchan" value="800">
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Rdat (T/m2)</label>
                                        <input type="number" class="form-control" id="input-Rdat" value="680">
                                    </div>
                                </div>
                                <div class="row g-3 mt-2">
                                    <div class="col-md-4">
                                        <label class="form-label">Điều kiện mũi cọc</label>
                                        <select class="form-select" id="select-dieu-kien-mui">
                                            <option value="K" selected>Tựa lên đất (K)</option>
                                            <option value="T">Tựa lên đá (T)</option>
                                            <option value="N">Ngàm trong đá (N)</option>
                                        </select>
                                    </div>
                                </div>
                                <h5 class="mt-4">Các lớp đất (ảnh hưởng đến Lnen)</h5>
                                <div class="table-scroll-container">
                                    <table class="table table-sm table-bordered" id="soil-layer-table">
                                        <thead>
                                            <tr>
                                                <th>Lớp</th>
                                                <th>Ldat (m)</th>
                                                <th>Tdat (T/m2)</th>
                                                <th>Phi (rad)</th>
                                            </tr>
                                        </thead>
                                        <tbody id="soil-layer-body">
                                            </tbody>
                                    </table>
                                </div>
                                <button class="btn btn-sm btn-outline-primary mt-2" id="add-soil-row"><i class="bi bi-plus-circle"></i> Thêm lớp đất</button>
                            </div>

                            <div class="tab-pane fade" id="content-loads" role="tabpanel">
                                <h5><i class="bi bi-arrow-down-square-fill"></i> Loading Condition (Tải trọng tác dụng)</h5>
                                <hr>
                                <div class="alert alert-info">
                                    <i class="bi bi-info-circle"></i> Tải trọng tác dụng tại đáy bệ cọc (mặt tiếp xúc với đất)
                                </div>
                                
                                <h6 class="text-primary"><i class="bi bi-arrows-move"></i> Lực (Forces)</h6>
                                <div class="row g-3 mb-4">
                                    <div class="col-md-4">
                                        <label class="form-label fw-bold">
                                            <i class="bi bi-arrow-left-right"></i> Hx (T)
                                        </label>
                                        <small class="d-block text-muted mb-1">Lực ngang phương X</small>
                                        <div class="input-group input-group-lg">
                                            <input type="number" class="form-control" id="input-Hx" value="20.2" step="0.1">
                                            <span class="input-group-text">T</span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label fw-bold">
                                            <i class="bi bi-arrow-up-down"></i> Hy (T)
                                        </label>
                                        <small class="d-block text-muted mb-1">Lực ngang phương Y</small>
                                        <div class="input-group input-group-lg">
                                            <input type="number" class="form-control" id="input-Hy" value="72.0" step="0.1">
                                            <span class="input-group-text">T</span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label fw-bold">
                                            <i class="bi bi-arrow-down-circle-fill text-danger"></i> Pz (T)
                                        </label>
                                        <small class="d-block text-muted mb-1">Lực dọc (Vertical)</small>
                                        <div class="input-group input-group-lg">
                                            <input type="number" class="form-control" id="input-Pz" value="1250.06" step="1">
                                            <span class="input-group-text">T</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <h6 class="text-success"><i class="bi bi-arrow-repeat"></i> Mô men (Moments)</h6>
                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <label class="form-label fw-bold">
                                            <i class="bi bi-arrow-clockwise"></i> Mx (T.m)
                                        </label>
                                        <small class="d-block text-muted mb-1">Mô men quanh trục X</small>
                                        <div class="input-group input-group-lg">
                                            <input type="number" class="form-control" id="input-Mx" value="934.4" step="1">
                                            <span class="input-group-text">T.m</span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label fw-bold">
                                            <i class="bi bi-arrow-clockwise"></i> My (T.m)
                                        </label>
                                        <small class="d-block text-muted mb-1">Mô men quanh trục Y</small>
                                        <div class="input-group input-group-lg">
                                            <input type="number" class="form-control" id="input-My" value="361.9" step="1">
                                            <span class="input-group-text">T.m</span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label fw-bold">
                                            <i class="bi bi-arrow-clockwise"></i> Mz (T.m)
                                        </label>
                                        <small class="d-block text-muted mb-1">Mô men xoắn quanh Z</small>
                                        <div class="input-group input-group-lg">
                                            <input type="number" class="form-control" id="input-Mz" value="0.0" step="1">
                                            <span class="input-group-text">T.m</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-3">
                                    <small class="text-muted">
                                        <i class="bi bi-lightbulb"></i> <strong>Quy ước:</strong>
                                        Trục Z hướng lên, X và Y nằm ngang theo mặt bệ.
                                    </small>
                                </div>
                            </div>

                            <div class="tab-pane fade" id="content-piles" role="tabpanel">
                                <h5><i class="bi bi-grid-3x3-gap-fill"></i> Pile Definition (Bố trí cọc)</h5>
                                <hr>
                                <div class="alert alert-warning">
                                    <i class="bi bi-exclamation-triangle"></i> <strong>Phiên bản FREE:</strong> Giới hạn 4 cọc. 
                                    <a href="#" class="alert-link" onclick="document.getElementById('tab-license').click()">Kích hoạt PRO</a> để không giới hạn.
                                </div>
                                
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <h6 class="mb-0">
                                        <i class="bi bi-table"></i> Bảng bố trí: 
                                        <span class="badge bg-primary fs-6" id="pile-count">0</span> cọc
                                    </h6>
                                    <div class="btn-group">
                                        <label for="csv-file-input" class="btn btn-success">
                                            <i class="bi bi-file-earmark-spreadsheet"></i> Nhập CSV
                                        </label>
                                        <input type="file" id="csv-file-input" accept=".csv, text/csv">
                                        <button class="btn btn-primary" id="add-pile-row">
                                            <i class="bi bi-plus-circle-fill"></i> Thêm cọc
                                        </button>
                                        <button class="btn btn-danger" id="remove-pile-row">
                                            <i class="bi bi-trash-fill"></i> Xóa cuối
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="table-scroll-container">
                                    <table class="table table-bordered table-striped table-hover" id="pile-table">
                                        <thead class="table-primary">
                                            <tr>
                                                <th style="width: 60px;">ID</th>
                                                <th>
                                                    <i class="bi bi-arrow-left-right"></i> X (m)<br>
                                                    <small class="fw-normal">Tọa độ X</small>
                                                </th>
                                                <th>
                                                    <i class="bi bi-arrow-up-down"></i> Y (m)<br>
                                                    <small class="fw-normal">Tọa độ Y</small>
                                                </th>
                                                <th>
                                                    <i class="bi bi-arrow-repeat"></i> Fi (rad)<br>
                                                    <small class="fw-normal">Góc nghiêng</small>
                                                </th>
                                                <th>
                                                    <i class="bi bi-arrow-clockwise"></i> Psi (rad)<br>
                                                    <small class="fw-normal">Góc xoay</small>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody id="pile-table-body">
                                            <!-- Rows will be added dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                                
                                <div class="mt-3">
                                    <button class="btn btn-info btn-lg" id="load-sample-data">
                                        <i class="bi bi-clipboard-data-fill"></i> Tải dữ liệu mẫu (24 cọc)
                                    </button>
                                    <small class="text-muted ms-3">
                                        <i class="bi bi-lightbulb"></i> Gốc tọa độ tại tâm bệ cọc
                                    </small>
                                </div>
                            </div>
                            
                            <div class="tab-pane fade" id="content-license" role="tabpanel">
                                <h5><i class="bi bi-patch-check-fill"></i> License Management (Quản lý bản quyền)</h5>
                                <hr>
                                <div class="row">
                                    <div class="col-md-7">
                                        <div class="card shadow-sm">
                                            <div class="card-header bg-primary text-white">
                                                <h6 class="mb-0"><i class="bi bi-key-fill"></i> Kích hoạt bản quyền PRO</h6>
                                            </div>
                                            <div class="card-body">
                                                <div class="mb-3">
                                                    <label for="user-email" class="form-label fw-bold">
                                                        <i class="bi bi-envelope"></i> Email đăng ký:
                                                    </label>
                                                    <input type="email" class="form-control form-control-lg" id="user-email" 
                                                           placeholder="your.email@example.com" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label for="license-key" class="form-label fw-bold">
                                                        <i class="bi bi-key"></i> License Key:
                                                    </label>
                                                    <input type="text" class="form-control form-control-lg" id="license-key" 
                                                           placeholder="XXXX-XXXX-XXXX-XXXX" style="font-family: monospace;" required>
                                                    <small class="text-muted">
                                                        <i class="bi bi-lightbulb"></i> Để test, nhập key chứa "valid" hoặc "pro"
                                                    </small>
                                                </div>
                                                <button class="btn btn-primary btn-lg w-100" id="btn-check-license">
                                                    <i class="bi bi-check-circle-fill"></i> Kích hoạt bản quyền
                                                </button>
                                            </div>
                                        </div>
                                        <div id="license-status" class="mt-3 alert alert-secondary">
                                            <i class="bi bi-info-circle"></i> Trạng thái: Chưa kích hoạt. Giới hạn 4 cọc.
                                        </div>
                                    </div>
                                    <div class="col-md-5">
                                        <div class="card border-warning shadow-sm">
                                            <div class="card-header bg-warning">
                                                <h6 class="mb-0"><i class="bi bi-star-fill"></i> Phiên bản PRO</h6>
                                            </div>
                                            <div class="card-body">
                                                <h6 class="text-primary">Các tính năng:</h6>
                                                <ul class="list-unstyled">
                                                    <li><i class="bi bi-check-circle-fill text-success"></i> Không giới hạn số cọc</li>
                                                    <li><i class="bi bi-check-circle-fill text-success"></i> Phân tích nhóm cọc lớn</li>
                                                    <li><i class="bi bi-check-circle-fill text-success"></i> Xuất báo cáo chi tiết</li>
                                                    <li><i class="bi bi-check-circle-fill text-success"></i> Hỗ trợ kỹ thuật ưu tiên</li>
                                                    <li><i class="bi bi-check-circle-fill text-success"></i> Import/Export CSV</li>
                                                </ul>
                                                <hr>
                                                <h6 class="text-danger">Phiên bản FREE:</h6>
                                                <ul class="list-unstyled">
                                                    <li><i class="bi bi-x-circle text-danger"></i> Tối đa 4 cọc</li>
                                                    <li><i class="bi bi-check-circle text-secondary"></i> Các tính năng cơ bản</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>

                <div class="card mt-4" id="results-container">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h3 class="mb-0">Kết quả Phân tích</h3>
                        <div>
                            <button class="btn btn-sm btn-outline-success" id="save-csv-button"><i class="bi bi-file-earmark-ruled"></i> Xuất CSV</button>
                            <button class="btn btn-sm btn-outline-danger" id="save-png-button"><i class="bi bi-image"></i> Xuất PNG</button>
                        </div>
                    </div>
                    <div class="card-body">
                        <ul class="nav nav-tabs" id="resultTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="tab-result-displacement" data-bs-toggle="tab" data-bs-target="#content-result-displacement" type="button">Chuyển vị bệ</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="tab-result-forces" data-bs-toggle="tab" data-bs-target="#content-result-forces" type="button">Nội lực cọc</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="tab-result-check" data-bs-toggle="tab" data-bs-target="#content-result-check" type="button">Kiểm toán</button>
                            </li>
                             <li class="nav-item" role="presentation">
                                <button class="nav-link" id="tab-result-chart" data-bs-toggle="tab" data-bs-target="#content-result-chart" type="button">Biểu đồ</button>
                            </li>
                        </ul>
                        
                        <div class="tab-content p-3 border border-top-0" id="resultTabsContent">
                            <div class="tab-pane fade show active" id="content-result-displacement" role="tabpanel">
                                <table class="table table-sm table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Hạng mục</th>
                                            <th>Giá trị</th>
                                            <th>Đơn vị</th>
                                        </tr>
                                    </thead>
                                    <tbody id="displacement-results-body">
                                    </tbody>
                                </table>
                            </div>
                            <div class="tab-pane fade" id="content-result-forces" role="tabpanel">
                                <div class="table-scroll-container">
                                    <table class="table table-sm table-bordered table-striped" id="forces-results-table">
                                        <thead>
                                            <tr>
                                                <th>Cọc số</th>
                                                <th>N (T)</th>
                                                <th>QII (T)</th>
                                                <th>QIII (T)</th>
                                                <th>MI (T.m)</th>
                                                <th>MII (T.m)</th>
                                                <th>MIII (T.m)</th>
                                            </tr>
                                        </thead>
                                        <tbody id="forces-results-body">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="content-result-check" role="tabpanel">
                                <h5>Kiểm toán móng khối quy ước (Spiro)</h5>
                                <table class="table table-sm table-bordered">
                                    <tbody id="check-results-body">
                                    </tbody>
                                </table>
                                <h5 class="mt-4">Kiểm tra cân bằng lực</h5>
                                <table class="table table-sm table-bordered" id="balance-results-table">
                                    <thead>
                                        <tr>
                                            <th>Lực</th>
                                            <th>Tải trọng (Nhập)</th>
                                            <th>Phản lực (Tính)</th>
                                            <th>Chênh lệch (%)</th>
                                        </tr>
                                    </thead>
                                    <tbody id="balance-results-body">
                                    </tbody>
                                </table>
                            </div>
                            <div class="tab-pane fade" id="content-result-chart" role="tabpanel">
                                <canvas id="pileForceChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    
    <script src="pilegroup.js"></script> 
    <script src="app-check.js"></script>
    <script src="app-cal.js"></script>
    <script src="app-out.js"></script>
</body>
</html>